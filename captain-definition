{
  "schemaVersion": 2,
  "dockerfileLines": [
	"FROM ubuntu:latest",
  "FROM ruby:2.7.2",
  "RUN rm /etc/localtime",
	"RUN echo 'Etc/UTC' > /etc/timezone",
	"RUN ln -s /usr/share/zoneinfo/Etc/UTC /etc/localtime",
	"RUN apt-get update",
	"RUN apt-get install -y tzdata",
	"RUN apt-get install -y git",
	"RUN apt-get install -y ruby",
	"RUN apt-get install -y postgresql",
	"RUN apt-get install -y libpq-dev",
	"RUN apt-get install -y build-essential patch ruby-dev zlib1g-dev liblzma-dev",
	"RUN apt-get install -y nodejs",
	"RUN mkdir /app",
	"WORKDIR /app",
	"RUN gem install bundler",
  "COPY Gemfile /app/Gemfile",
  "COPY Gemfile.lock /app/Gemfile.lock",
	"RUN bundle install",
	"COPY . .",
	"ENV RACK_ENV development",
	"EXPOSE 80",
	"CMD [\"rackup\", \"config.ru\", \"--host\", \"0.0.0.0\", \"--port\", \"80\"]",
  "RUN bundle exec rake RAILS_ENV=development assets:precompile",
  "CMD puma -C config/puma.rb"
  ]
}
